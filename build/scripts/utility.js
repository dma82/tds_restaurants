var app=angular.module("myApp",[]);app.controller("myCtrl",function(o,a){o.resultsFound=0,$("#dateTimePicker").datetimepicker({format:"DD/MM/YYYY HH:mm"}),o.setDateTime=function(){$("#dateTimePicker").datetimepicker().on("dp.change",function(e){o.selectedDt=e.date._d})},o.search=function(){let e=moment(o.selectedDt);var t=e.isoWeekday()+1,n=e.format("HH:mm");a.post("http://localhost:3100/search.json",JSON.stringify({dayOfWeek:t,openAt:n})).then(function(e){o.result=e.data.result,o.resultsFound=e.data.result.length,0===o.resultsFound?$("#noResults").text("No restaurants opened"):$("#noResults").text("")}).catch(function(e){console.log("ERROR:",e)})}});